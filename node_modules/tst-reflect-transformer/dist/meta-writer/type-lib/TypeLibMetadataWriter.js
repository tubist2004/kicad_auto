"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TypeLibMetadataWriter = void 0;
const config_options_1 = require("../../config-options");
const helpers_1 = require("../../helpers");
const MetadataTransformerFactory_1 = require("../factories/MetadataTransformerFactory");
const MetadataWriterBase_1 = require("../MetadataWriterBase");
const TypeLibMetadataNodeGenerator_1 = require("./TypeLibMetadataNodeGenerator");
const TypeLibMetadataTransformer_1 = require("./TypeLibMetadataTransformer");
class TypeLibMetadataWriter extends MetadataWriterBase_1.MetadataWriterBase {
    constructor(metadataFilePath, context) {
        super(metadataFilePath, context, new TypeLibMetadataNodeGenerator_1.TypeLibMetadataNodeGenerator(), new MetadataTransformerFactory_1.MetadataTransformerFactory(TypeLibMetadataTransformer_1.TypeLibMetadataTransformer));
        this.type = config_options_1.MetadataTypeValues.typeLib;
        this.createBaseMeta();
    }
    usesStubFile() {
        return [true, "type-lib-file-stub.template.ts"];
    }
    getRequireRelativePath(context, filePath) {
        return this.getPathRelativeToLib(filePath);
    }
    getPathRelativeToLib(filePath) {
        return (0, helpers_1.getRequireRelativePath)(this.metadataFilePath, filePath);
    }
}
exports.TypeLibMetadataWriter = TypeLibMetadataWriter;
//# sourceMappingURL=TypeLibMetadataWriter.js.map