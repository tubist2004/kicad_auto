"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MetadataStoreBase = void 0;
const enums_1 = require("../enums");
const reflect_1 = require("../reflect");
const Type_1 = require("../Type");
class MetadataStoreBase {
    /**
     * @inheritDoc
     */
    set(id, description) {
        return this.wrap(description, id);
    }
    /**
     * @inheritDoc
     */
    wrap(description, _storeWithId) {
        if (description.k == enums_1.TypeKind.Native && description.n) {
            const standardNativeType = reflect_1.NativeTypes.get(description.n.toLowerCase());
            if (standardNativeType) {
                return standardNativeType;
            }
        }
        const type = Reflect.construct(Type_1.Type, [], Type_1.TypeActivator);
        if (_storeWithId != undefined) {
            this.store[_storeWithId] = type;
        }
        type.initialize(description);
        return type;
    }
}
exports.MetadataStoreBase = MetadataStoreBase;
